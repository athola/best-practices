<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Testing in Production - Engineering Best Practices Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Engineering Best Practices Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/your-org/best-practices" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="testing-in-production"><a class="header" href="#testing-in-production">Testing in Production</a></h1>
<p>The traditional view of testing is that it should happen entirely before deployment to production. However, modern software development practices recognize that testing in production, when done carefully and safely, provides valuable insights and confidence that cannot be achieved through pre-production testing alone.</p>
<h2 id="the-philosophy-of-production-testing"><a class="header" href="#the-philosophy-of-production-testing">The Philosophy of Production Testing</a></h2>
<p>Testing in production is not about being reckless—it's about being realistic. Production environments have characteristics that cannot be fully replicated in staging or test environments, and some types of testing can only be meaningfully performed in production.</p>
<p><strong>Why Test in Production?</strong></p>
<ul>
<li><strong>Real Environment</strong>: Production has real data, real traffic, and real infrastructure</li>
<li><strong>Real User Behavior</strong>: Users interact with your system in ways you can't predict</li>
<li><strong>Real Scale</strong>: Production operates at scale that's difficult and expensive to simulate</li>
<li><strong>Real Integration</strong>: Production integrates with real external systems and services</li>
<li><strong>Real Performance</strong>: Production performance characteristics are unique and complex</li>
</ul>
<p><strong>Production Testing vs. Traditional Testing</strong></p>
<ul>
<li><strong>Traditional Testing</strong>: Controlled environment, synthetic data, predictable conditions</li>
<li><strong>Production Testing</strong>: Real environment, real data, unpredictable conditions</li>
<li><strong>Traditional Testing</strong>: Focus on correctness and functionality</li>
<li><strong>Production Testing</strong>: Focus on resilience, performance, and user experience</li>
</ul>
<p><strong>The Production Testing Mindset</strong></p>
<ul>
<li><strong>Safety First</strong>: Always prioritize system stability and user experience</li>
<li><strong>Incremental</strong>: Start small and gradually expand testing scope</li>
<li><strong>Monitoring</strong>: Comprehensive monitoring is essential for production testing</li>
<li><strong>Rollback</strong>: Always have quick rollback capabilities</li>
<li><strong>Communication</strong>: Clear communication with stakeholders about testing activities</li>
</ul>
<p>"Testing in production isn't about being careless—it's about being thorough. Some aspects of software quality can only be verified in production, and doing this safely and systematically is a hallmark of mature engineering organizations."</p>
<h2 id="safe-production-testing-practices"><a class="header" href="#safe-production-testing-practices">Safe Production Testing Practices</a></h2>
<p>Testing in production requires careful planning and execution to ensure user experience isn't negatively impacted. These practices provide frameworks for safe production testing.</p>
<p><strong>Canary Releases</strong>
Canary releases involve deploying new features or changes to a small subset of users before rolling them out to everyone.</p>
<p><strong>Canary Release Process</strong></p>
<ol>
<li><strong>Select Canary Group</strong>: Choose a small, representative subset of users</li>
<li><strong>Deploy to Canary</strong>: Release changes to the canary group</li>
<li><strong>Monitor Closely</strong>: Watch metrics, logs, and user feedback</li>
<li><strong>Evaluate Results</strong>: Determine if changes are successful</li>
<li><strong>Rollout or Rollback</strong>: Either expand rollout or revert changes</li>
</ol>
<p><strong>Canary Best Practices</strong></p>
<ul>
<li><strong>Start Small</strong>: Begin with 1-5% of users</li>
<li><strong>Representative Sample</strong>: Ensure canary group represents overall user base</li>
<li><strong>Clear Metrics</strong>: Define success criteria before deployment</li>
<li><strong>Quick Rollback</strong>: Have automated rollback capabilities</li>
<li><strong>Gradual Expansion</strong>: Increase canary size incrementally</li>
</ul>
<p><strong>Feature Flags</strong>
Feature flags (or feature toggles) allow you to enable or disable features without deploying new code. They're essential for safe production testing.</p>
<p><strong>Types of Feature Flags</strong></p>
<ul>
<li><strong>Release Flags</strong>: Control rollout of new features</li>
<li><strong>Ops Flags</strong>: Control operational aspects of system</li>
<li><strong>Experiment Flags</strong>: Control A/B testing and experiments</li>
<li><strong>Permission Flags</strong>: Control access to features based on user permissions</li>
</ul>
<p><strong>Feature Flag Best Practices</strong></p>
<ul>
<li><strong>Short-Lived</strong>: Remove flags after they're no longer needed</li>
<li><strong>Documented</strong>: Maintain clear documentation of flag purposes</li>
<li><strong>Tested</strong>: Test both enabled and disabled states</li>
<li><strong>Monitored</strong>: Monitor flag usage and performance impact</li>
<li><strong>Cleaned Up</strong>: Regularly remove obsolete flags</li>
</ul>
<p><strong>Dark Launching</strong>
Dark launching involves deploying features to production but keeping them hidden from users. This allows you to test functionality and performance without affecting user experience.</p>
<p><strong>Dark Launching Benefits</strong></p>
<ul>
<li><strong>Real Environment Testing</strong>: Test in production environment without user impact</li>
<li><strong>Performance Validation</strong>: Verify performance under real conditions</li>
<li><strong>Integration Testing</strong>: Test real integrations with external systems</li>
<li><strong>Infrastructure Validation</strong>: Verify deployment and infrastructure changes</li>
<li><strong>Risk Reduction</strong>: Identify and fix issues before user-facing launch</li>
</ul>
<p><strong>Shadow Traffic Testing</strong>
Shadow traffic testing involves sending a copy of real production traffic to your new system or feature without affecting the live system.</p>
<p><strong>Shadow Traffic Process</strong></p>
<ol>
<li><strong>Deploy New System</strong>: Deploy new version alongside existing system</li>
<li><strong>Mirror Traffic</strong>: Send copy of production traffic to new system</li>
<li><strong>Compare Results</strong>: Compare outputs between old and new systems</li>
<li><strong>Monitor Performance</strong>: Monitor performance and resource usage</li>
<li><strong>Validate Correctness</strong>: Ensure new system produces correct results</li>
</ol>
<p><strong>Shadow Traffic Considerations</strong></p>
<ul>
<li><strong>Data Privacy</strong>: Ensure sensitive data is handled appropriately</li>
<li><strong>Resource Usage</strong>: Monitor additional resource consumption</li>
<li><strong>Side Effects</strong>: Prevent shadow traffic from causing side effects</li>
<li><strong>Result Comparison</strong>: Implement robust result comparison mechanisms</li>
<li><strong>Cost</strong>: Consider additional infrastructure costs</li>
</ul>
<h2 id="production-testing-techniques"><a class="header" href="#production-testing-techniques">Production Testing Techniques</a></h2>
<p>Various techniques can be used to test different aspects of your system in production safely.</p>
<p><strong>A/B Testing</strong>
A/B testing compares two versions of a feature to determine which performs better based on user behavior and metrics.</p>
<p><strong>A/B Testing Process</strong></p>
<ol>
<li><strong>Define Hypothesis</strong>: Specify what you want to test and expected outcome</li>
<li><strong>Create Variants</strong>: Develop different versions of the feature</li>
<li><strong>Split Traffic</strong>: Divide users between different variants</li>
<li><strong>Collect Data</strong>: Gather metrics and user feedback</li>
<li><strong>Analyze Results</strong>: Determine which variant performs better</li>
<li><strong>Implement Winner</strong>: Roll out the winning variant to all users</li>
</ol>
<p><strong>A/B Testing Best Practices</strong></p>
<ul>
<li><strong>Statistical Significance</strong>: Ensure you have enough data for valid conclusions</li>
<li><strong>Single Variable</strong>: Test one change at a time for clear results</li>
<li><strong>Clear Metrics</strong>: Define success metrics before starting the test</li>
<li><strong>Sufficient Duration</strong>: Run tests long enough to capture meaningful patterns</li>
<li><strong>User Segmentation</strong>: Consider different user segments and behaviors</li>
</ul>
<p><strong>Chaos Engineering</strong>
Chaos engineering is the discipline of experimenting on a system to build confidence in its capability to withstand turbulent conditions in production.</p>
<p><strong>Chaos Engineering Principles</strong></p>
<ul>
<li><strong>Define Steady State</strong>: Understand normal system behavior</li>
<li><strong>Form Hypothesis</strong>: Predict how system will respond to failures</li>
<li><strong>Inject Failures</strong>: Introduce controlled failures into production</li>
<li><strong>Verify Resilience</strong>: Observe how system responds and recovers</li>
<li><strong>Improve System</strong>: Use insights to improve system resilience</li>
</ul>
<p><strong>Chaos Engineering Experiments</strong></p>
<ul>
<li><strong>Instance Termination</strong>: Randomly terminate instances to test resilience</li>
<li><strong>Network Latency</strong>: Introduce network delays and packet loss</li>
<li><strong>Resource Constraints</strong>: Limit CPU, memory, or disk resources</li>
<li><strong>Dependency Failures</strong>: Simulate failures of external dependencies</li>
<li><strong>Data Corruption</strong>: Introduce data corruption or consistency issues</li>
</ul>
<p><strong>Load Testing in Production</strong>
Production load testing involves testing your system under realistic load conditions in the production environment.</p>
<p><strong>Production Load Testing Benefits</strong></p>
<ul>
<li><strong>Real Infrastructure</strong>: Test on actual production infrastructure</li>
<li><strong>Real User Patterns</strong>: Use realistic user behavior patterns</li>
<li><strong>Real Data</strong>: Test with real data volumes and characteristics</li>
<li><strong>Real Integration</strong>: Test with real external system integrations</li>
<li><strong>Real Performance</strong>: Discover real performance bottlenecks</li>
</ul>
<p><strong>Load Testing Best Practices</strong></p>
<ul>
<li><strong>Off-Peak Testing</strong>: Conduct tests during low-traffic periods</li>
<li><strong>Gradual Ramp-up</strong>: Increase load gradually to observe behavior</li>
<li><strong>Monitor Everything</strong>: Comprehensive monitoring during tests</li>
<li><strong>Have Rollback Plan</strong>: Quick rollback if issues arise</li>
<li><strong>Communicate</strong>: Inform stakeholders about testing activities</li>
</ul>
<h2 id="monitoring-and-observability-for-production-testing"><a class="header" href="#monitoring-and-observability-for-production-testing">Monitoring and Observability for Production Testing</a></h2>
<p>Effective production testing requires comprehensive monitoring and observability to detect issues quickly and understand system behavior.</p>
<p><strong>Essential Monitoring for Production Testing</strong></p>
<ul>
<li><strong>Application Metrics</strong>: Response times, error rates, throughput</li>
<li><strong>Infrastructure Metrics</strong>: CPU, memory, disk, network usage</li>
<li><strong>Business Metrics</strong>: Conversion rates, user engagement, revenue</li>
<li><strong>User Experience Metrics</strong>: Page load times, interaction latency</li>
<li><strong>Error Tracking</strong>: Error rates, types, and patterns</li>
</ul>
<p><strong>Observability Pillars</strong></p>
<ul>
<li><strong>Logs</strong>: Structured logging for debugging and analysis</li>
<li><strong>Metrics</strong>: Numerical measurements of system behavior</li>
<li><strong>Traces</strong>: Distributed tracing for request flows</li>
<li><strong>Events</strong>: Discrete occurrences in system behavior</li>
<li><strong>Profiles</strong>: Performance profiling data</li>
</ul>
<p><strong>Alerting Strategies</strong></p>
<ul>
<li><strong>Threshold-Based</strong>: Alert when metrics exceed predefined thresholds</li>
<li><strong>Anomaly Detection</strong>: Alert when metrics deviate from normal patterns</li>
<li><strong>Rate-of-Change</strong>: Alert when metrics change rapidly</li>
<li><strong>Composite Alerts</strong>: Alert based on combinations of conditions</li>
<li><strong>Predictive Alerts</strong>: Alert based on predicted future states</li>
</ul>
<p><strong>Production Testing Dashboards</strong></p>
<ul>
<li><strong>Real-Time Dashboards</strong>: Show current system state and test progress</li>
<li><strong>Historical Analysis</strong>: Compare current performance with historical data</li>
<li><strong>Correlation Views</strong>: Show relationships between different metrics</li>
<li><strong>User Experience Views</strong>: Display user-facing metrics and experiences</li>
<li><strong>Test-Specific Views</strong>: Custom dashboards for specific testing activities</li>
</ul>
<h2 id="production-testing-governance"><a class="header" href="#production-testing-governance">Production Testing Governance</a></h2>
<p>Production testing requires proper governance to ensure it's done safely and effectively.</p>
<p><strong>Production Testing Policies</strong></p>
<ul>
<li><strong>Approval Process</strong>: Define who can approve production testing activities</li>
<li><strong>Testing Windows</strong>: Specify when production testing can occur</li>
<li><strong>Scope Limitations</strong>: Define what can and cannot be tested in production</li>
<li><strong>Rollback Procedures</strong>: Document rollback procedures and responsibilities</li>
<li><strong>Communication Plans</strong>: Specify how to communicate testing activities</li>
</ul>
<p><strong>Risk Assessment Framework</strong></p>
<ul>
<li><strong>Impact Analysis</strong>: Assess potential impact of testing activities</li>
<li><strong>User Impact</strong>: Evaluate how testing might affect users</li>
<li><strong>Business Impact</strong>: Assess potential business impact of issues</li>
<li><strong>Recovery Time</strong>: Estimate time to recover from potential issues</li>
<li><strong>Mitigation Strategies</strong>: Define strategies to mitigate identified risks</li>
</ul>
<p><strong>Production Testing Checklist</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
Have clear objectives and success criteria</li>
<li><input disabled="" type="checkbox"/>
Have comprehensive monitoring in place</li>
<li><input disabled="" type="checkbox"/>
Have rollback procedures documented and tested</li>
<li><input disabled="" type="checkbox"/>
Have communicated with all stakeholders</li>
<li><input disabled="" type="checkbox"/>
Have scheduled testing during appropriate time windows</li>
<li><input disabled="" type="checkbox"/>
Have identified and mitigated potential risks</li>
<li><input disabled="" type="checkbox"/>
Have support team on standby during testing</li>
<li><input disabled="" type="checkbox"/>
Have post-testing review and analysis planned</li>
</ul>
<p>"Production testing is a powerful capability that, when done responsibly, provides insights and confidence that cannot be achieved through pre-production testing alone. The key is to approach it systematically, with proper safeguards, monitoring, and governance in place."</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="testing-strategies-05-advanced.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="testing-strategies-07-anti-patterns.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="testing-strategies-05-advanced.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="testing-strategies-07-anti-patterns.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
